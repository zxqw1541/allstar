<!DOCTYPE html>
<html>
<head>
  <meta charset='UTF-8'>
  <title>게시판-목록</title>
  <link rel="stylesheet" href="../lib/bootstrap/css/bootstrap.css">
  <link rel="stylesheet" href="../css/common.css">
</head>
<body>

<div class="container">        
<header>
종목 게시판 - 
  <a href="/allstar/auth/login.do">로그인</a>
</header>

<section>
<h1>게시판</h1>

<button id="newBtn" type="button" class="btn btn-primary btn-xs">새 글</button>

<select class="form-control">
        <option>축구</option>
        <option>야구</option>
        <option>농구</option>
        <option>족구</option>
        <option>배드민턴</option>
      </select>
<table id="listTable" class="table table-hover">
  <thead>
	  <tr>
	    <th>번호</th>
	    <th>종목</th>
	    <th>제목</th>
	    <th>등록일</th>
	  </tr>
  </thead>
</table>
</section>

<footer>
<p><address>
** 이 웹 애플리케이션의 모든 권리는 Java76기에 있습니다. &copy; Java76. **
</address></p>
</footer>
</div><!-- container div -->

<script type="text/javascript" src="../lib/jquery/jquery.js"></script>
<script>

$.getJSON('ajax/list.do', function(resultObj) {
	var table = $("#listTable");
  for (var board of resultObj.ajaxResult.data) {
    $("<tr>")
      .html("<td>" + board.bno + 
			      "</td><td><a class='detailLnk' href='#' boardBno='" 
			          + board.bno + "'>" + board.bevent + 
			      "</a></td><td>" + board.title +
			      "</td><td>" + board.cre_dt+ "</td>")
			.appendTo(table);
  }
  // 제목 링크에 클릭 이벤트 리스너를 등록한다.
  $("a.detailLnk").click(clickDetailLnk);
});


$('#newBtn').click(function(event){
	location.href = "form.html?bno";
});


// 게시물 제목을 클릭했을 때 호출될 함수

function clickDetailLnk(event) {
	event.preventDefault(); 
	location.href = "form.html?bno=" + $(event.target).attr("boardBno");
}

</script>

    </body>
</html>





    